var isStorageSupport=!0,form_name="",form_mail="";try{form_name=localStorage.getItem("name"),form_email=localStorage.getItem("mail")}catch(e){isStorageSupport=!1}var page=document.querySelector(".body-main");if(page){var slides=document.querySelectorAll(".promo-slider-item"),nextSlide=document.querySelector(".slide-next"),previousSlide=document.querySelector(".slide-previous"),currentPosition=0,slidePosition=slides.item(currentPosition),roundButtons=document.querySelectorAll(".promo-slider-round-button"),roundButtonsContainer=document.querySelector(".promo-slider-buttons"),buttonPosition=roundButtons.item(currentPosition);slides.forEach(function(e){e.classList.remove("promo-slide-current")}),roundButtons.forEach(function(e){e.classList.remove("promo-button-current")}),slidePosition.classList.add("promo-slide-current"),buttonPosition.classList.add("promo-button-current"),previousSlide.addEventListener("click",function(){slidePosition.classList.remove("promo-slide-current"),buttonPosition.classList.remove("promo-button-current"),currentPosition-=1,slides.item(currentPosition)?(slidePosition=slides.item(currentPosition),buttonPosition=roundButtons.item(currentPosition)):(currentPosition=slides.length-1,slidePosition=slides.item(currentPosition),buttonPosition=roundButtons.item(currentPosition)),slidePosition.classList.add("promo-slide-current"),buttonPosition.classList.add("promo-button-current")}),nextSlide.addEventListener("click",function(){slidePosition.classList.remove("promo-slide-current"),buttonPosition.classList.remove("promo-button-current"),currentPosition+=1,slides.item(currentPosition)?(slidePosition=slides.item(currentPosition),buttonPosition=roundButtons.item(currentPosition)):(currentPosition=0,slidePosition=slides.item(currentPosition),buttonPosition=roundButtons.item(currentPosition)),slidePosition.classList.add("promo-slide-current"),buttonPosition.classList.add("promo-button-current")}),roundButtonsContainer.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("promo-slider-round-button")&&!t.classList.contains("promo-button-current"))for(slidePosition.classList.remove("promo-slide-current"),buttonPosition.classList.remove("promo-button-current"),i=0;i<roundButtons.length;i++)roundButtons[i]===t&&(currentPosition=i,slidePosition=slides.item(currentPosition),buttonPosition=roundButtons.item(currentPosition),slidePosition.classList.add("promo-slide-current"),buttonPosition.classList.add("promo-button-current"))})}if(page){var serviceButtons=document.querySelectorAll(".service-button"),serviceDetails=document.querySelectorAll(".service-detail"),activeServiceButton=(currentPosition=0,serviceButtons.item(currentPosition)),activeService=serviceDetails.item(currentPosition),servicesNavigation=document.querySelector(".services-list");serviceDetails.forEach(function(e){e.classList.remove("service-active")}),serviceButtons.forEach(function(e){e.classList.remove("service-button-active")}),activeServiceButton.classList.add("service-button-active"),activeService.classList.add("service-active"),servicesNavigation.addEventListener("click",function(e){var t=e.target;if(t.classList.contains("service-button")&&!t.classList.contains("service-button-active"))for(activeServiceButton.classList.remove("service-button-active"),activeService.classList.remove("service-active"),i=0;i<serviceButtons.length;i++)serviceButtons[i]===t&&(currentPosition=i,activeService=serviceDetails.item(currentPosition),activeServiceButton=serviceButtons.item(currentPosition),activeService.classList.add("service-active"),activeServiceButton.classList.add("service-button-active"))})}var closeButtons=document.querySelectorAll(".modal-close");if(closeButtons)for(var i=0;i<closeButtons.length;i++)closeButtons[i].addEventListener("click",function(){this.parentElement&&(this.parentElement.classList.remove("modal-show"),this.parentElement.classList.remove("modal-error"))});window.addEventListener("keydown",function(e){if(27===e.keyCode){var t=document.querySelector(".modal-show");t&&(e.preventDefault(),t.classList.remove("modal-show"),this.parentElement.classList.remove("modal-error"))}});var map=document.querySelector(".map"),modalMap=document.querySelector(".modal-map");map&&map.addEventListener("click",function(e){e.preventDefault(),modalMap.classList.add("modal-show")});var cartButton=document.querySelectorAll(".card-buy"),modalCart=document.querySelector(".modal-cart");if(cartButton)for(i=0;i<cartButton.length;i++)cartButton[i].addEventListener("click",function(e){e.preventDefault(),modalCart&&modalCart.classList.add("modal-show")});if(page){var feedback=document.querySelector(".feedback"),modalFeedback=document.querySelector(".modal-feedback"),form=document.querySelector(".feedback-form"),form_email=(form_name=modalFeedback.querySelector("input[name=name"),modalFeedback.querySelector("input[name=mail")),form_text=modalFeedback.querySelector("textarea[name=feedback");feedback&&feedback.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-show")}),form.addEventListener("submit",function(e){form_name.value&&form_email.value&&form_text.value?isStorageSupport&&(localStorage.setItem("name",form_name.value),localStorage.setItem("mail",form_email.value)):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"))})}